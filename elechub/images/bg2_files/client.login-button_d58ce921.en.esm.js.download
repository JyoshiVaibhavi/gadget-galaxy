import{d as n,a1 as t,a2 as i,w as o,x as e,z as s,a3 as l,G as a,H as r,a4 as h,_ as d,a5 as c,i as p,c as f,I as u,B as m,a6 as w,g,a7 as v,a as b,a8 as y,a9 as _,aa as x,ab as k,Y as $,ac as S,ad as M,ae as W,f as E,af as C,O as z,P as B,Q as A,R as F,U as N,E as T,ag as U,ah as q,ai as D,aj as I,ak as L,T as P,a0 as H,al as R,Z as j,p as O,q as Y,r as Q,t as V}from"./chunk.common_2c2118e9.esm.js";class J extends HTMLElement{constructor(){super();const n=document.createElement("template"),i=this.getAttribute("size"),o=this.getAttribute("background-color")||"#FFF";n.innerHTML=function(n=36,i){const[o,e,s]=t(i),l=`rgb(${o}, ${e}, ${s})`,a=1.15,r=n,h=Math.round(r/a);return`\n    <style>\n      .shop-swirl {\n        height: ${r}px;\n        width: ${h}px;\n        vertical-align: middle;\n      }\n    </style>\n    <svg class="shop-swirl" viewBox="0 0 22 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M9.43 0C4.607 0 2.2 1.63.266 2.952L.21 2.99a.476.476 0 0 0-.146.632l1.91 3.291a.486.486 0 0 0 .327.235.5.5 0 0 0 .398-.104l.15-.127c.995-.832 2.586-1.957 6.441-2.25 2.146-.174 4.005.404 5.372 1.666 1.503 1.386 2.4 3.626 2.4 5.991 0 4.348-2.56 7.084-6.68 7.14-3.391-.02-5.67-1.788-5.67-4.404 0-1.399.651-2.306 1.884-3.216a.437.437 0 0 0 .124-.554L4.995 8.03a.493.493 0 0 0-.685-.193C2.386 8.98.03 11.067.155 15.077c.156 5.111 4.403 9.009 9.921 9.168h.63C17.268 24.034 22 19.166 22 12.576 22.01 6.474 17.6 0 9.43 0z" fill="${l}" />\n    </svg>\n  `}(i?Number.parseInt(i,10):void 0,o),this.attachShadow({mode:"open"}).appendChild(n.content.cloneNode(!0))}}function G(){const n=document.createElement("div"),t=n.attachShadow({mode:"open"});return n.style.setProperty("all","initial"),{withInnerHTML(n){return t.innerHTML=n,this},build(){const o=i();return t.appendChild(o),document.body.appendChild(n),{get sheetModal(){return o},destroy(){n.remove()}}}}}var K,X,Z,nn,tn,on,en,sn,ln,an,rn,hn,dn,cn,pn;const fn="shop-modal-content";class un extends HTMLElement{constructor(){super(),K.add(this),X.set(this,void 0),Z.set(this,void 0),nn.set(this,void 0),tn.set(this,void 0),on.set(this,void 0),en.set(this,void 0),sn.set(this,void 0),ln.set(this,void 0),an.set(this,void 0),rn.set(this,void 0),hn.set(this,{});const n=document.createElement("template");n.innerHTML=`\n    <style>\n      .${fn} {\n        border-bottom: 1px solid #D9D9D9;\n        padding-bottom: 20px;\n        text-align: center;\n        margin: 0 20px;\n      }\n\n      .${fn}--small {\n        padding-bottom: 7px;\n      }\n\n      .${fn}.hide-divider {\n        border-bottom-color: transparent;\n      }\n\n      .${fn}-title {\n        font-size: 20px;\n        font-weight: 600;\n        line-height: 25px;\n        letter-spacing: -0.2px;\n        color: #000000;\n        margin-bottom: 8px;\n      }\n\n      .${fn}-description {\n        font-size: 14px;\n        font-weight: 400;\n        color: #0F1721;\n        letter-spacing: 0px;\n      }\n\n      .${fn}-processing {\n        min-height: 97px;\n        margin: 0 20px;\n      }\n\n      .${fn}-processing-user {\n        padding: 15px 0;\n        min-height: 15px;\n        font-size: 12px;\n        color: #0F1721;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        -webkit-font-smoothing: antialiased;\n        -webkit-text-size-adjust: 100%;\n        font-family: -apple-system, BlinkMacSystemFont, San Francisco, Roboto, Segoe UI, Helvetica Neue, sans-serif !important;\n      }\n\n      .${fn}-disclaimer {\n        font-size: 12px;\n        line-height: 1.4;\n        text-align: center;\n        color: rgb(63, 69, 77);\n        padding: 8px 0 5px;\n        margin: 0 20px;\n      }\n\n      .${fn}-disclaimer a {\n        color: ${s.brand};\n        -webkit-appearance: none;\n        appearance: none;\n        text-decoration: none;\n        cursor: pointer;\n      }\n\n      .${fn}-disclaimer a:hover,\n      .${fn}-disclaimer a:focus,\n      .${fn}-disclaimer a:active {\n        outline: none;\n        color: #7b61f0;\n      }\n\n      @media (forced-colors: active) {\n        .${fn}.hide-divider {\n          border-bottom: none;\n        }\n      }\n\n      .hidden {\n        display: none;\n      }\n    </style>\n    <div class="${fn} hidden">\n      <h2 class="${fn}-title hidden"></h2>\n      <div class="${fn}-description hidden"></div>\n    </div>\n    <div class="${fn}-content hidden">\n      <div class="${fn}-processing hidden">\n        <div class="${fn}-processing-user"></div>\n        <div class="${fn}-processing-status"></div>\n      </div>\n      <div class="${fn}-children hidden">\n        <slot></slot>\n      </div>\n      <div class="${fn}-disclaimer hidden"></div>\n    </div>\n  `,o(this,X,this.attachShadow({mode:"open"}),"f"),e(this,X,"f").appendChild(n.content.cloneNode(!0)),o(this,Z,e(this,X,"f").querySelector(`.${fn}`),"f"),o(this,nn,e(this,X,"f").querySelector(`.${fn}-title`),"f"),o(this,tn,e(this,X,"f").querySelector(`.${fn}-description`),"f"),o(this,on,e(this,X,"f").querySelector(`.${fn}-content`),"f"),o(this,en,e(this,X,"f").querySelector(`.${fn}-processing`),"f"),o(this,sn,e(this,X,"f").querySelector(`.${fn}-processing-user`),"f"),o(this,an,e(this,X,"f").querySelector(`.${fn}-children`),"f"),o(this,rn,e(this,X,"f").querySelector(`.${fn}-disclaimer`),"f")}hideDivider(){e(this,Z,"f").classList.add("hide-divider")}showDivider(){e(this,Z,"f").classList.remove("hide-divider")}update(n){o(this,hn,Object.assign(Object.assign({},e(this,hn,"f")),n),"f"),e(this,K,"m",dn).call(this),e(this,K,"m",cn).call(this),e(this,K,"m",pn).call(this)}}function mn(n,t=!1){const i=document.createElement("shop-modal-content");return t&&i.hideDivider(),i.update(n),i}X=new WeakMap,Z=new WeakMap,nn=new WeakMap,tn=new WeakMap,on=new WeakMap,en=new WeakMap,sn=new WeakMap,ln=new WeakMap,an=new WeakMap,rn=new WeakMap,hn=new WeakMap,K=new WeakSet,dn=function(){const{title:n,description:t,authorizeState:i}=e(this,hn,"f"),o=n||t;e(this,Z,"f").classList.toggle("hidden",!o),e(this,nn,"f").classList.toggle("hidden",!n),e(this,tn,"f").classList.toggle("hidden",!t),e(this,nn,"f").textContent=n||"",e(this,tn,"f").textContent=t||"",i&&(e(this,Z,"f").classList.toggle("hide-divider",i===l.Start),e(this,Z,"f").classList.toggle(`${fn}--small`,i===l.Start))},cn=function(){var n;const{authorizeState:t,status:i,email:s}=e(this,hn,"f"),h=Boolean(t||i),d=Boolean(i&&s),c=Boolean(h&&!d);if(e(this,on,"f").classList.toggle("hidden",!h),e(this,en,"f").classList.toggle("hidden",!d),e(this,an,"f").classList.toggle("hidden",!c),!e(this,ln,"f")&&d){const i=t===l.OneClick?a.Branded:a.Regular;o(this,ln,r(i),"f"),e(this,en,"f").appendChild(e(this,ln,"f")),null===(n=e(this,ln,"f"))||void 0===n||n.setStatus({status:"loading",message:""})}e(this,sn,"f").textContent=s||""},pn=function(){const{disclaimer:n}=e(this,hn,"f"),t=Boolean(n);e(this,rn,"f").classList.toggle("hidden",!t),e(this,rn,"f").innerHTML=n||""},customElements.get("shop-modal-content")||customElements.define("shop-modal-content",un);const wn="following";class gn extends HTMLElement{constructor(){super(),this.s_a=null,this.s_b=null,this.s_c=null,this.s_d=null,this.s_e=null,this.s_f=null,this.s_g=null,this.s_h=0,this.s_i=0,customElements.get("shop-logo")||customElements.define("shop-logo",h)}connectedCallback(){return d(this,void 0,void 0,(function*(){yield this.s_j(),this.s_k()}))}setFollowing({following:n=!0,skipAnimation:t=!1}){var i,o,e,s,l;null===(i=this.s_b)||void 0===i||i.classList.toggle("button--animating",!t),null===(o=this.s_b)||void 0===o||o.classList.toggle("button--following",n),null!==this.s_e&&null!==this.s_f&&(this.s_e.ariaHidden=n?"true":"false",this.s_f.ariaHidden=n?"false":"true"),this.style.setProperty("--button-width",`${n?this.s_i:this.s_h}px`),window.matchMedia("(prefers-reduced-motion: reduce)").matches||t?null===(e=this.s_d)||void 0===e||e.setFilled(n):null===(l=null===(s=this.s_b)||void 0===s?void 0:s.querySelector(".follow-text"))||void 0===l||l.addEventListener("transitionend",(()=>{var t;null===(t=this.s_d)||void 0===t||t.setFilled(n)}))}setFocused(){var n;null===(n=this.s_b)||void 0===n||n.focus()}s_j(){return d(this,void 0,void 0,(function*(){try{const n="en",t={follow_on_shop:{follow:"Follow on {shop}",following:"Following on {shop}",auth_modal:{title:"Follow on Shop",description:"Stay in the know—never miss a sale, restock, or order update."},following_modal:{title:"Visit {store} on Shop",subtitle:"Everything you need to shop, track, and pay—all in one place.",qr_header:"Scan to visit {store} on the Shop app",qr_alt_text:"Shop app QR code",continue:"Continue"},completed:{title:"You're following {store}",subtitle:"We've sent you an email with a link to download the Shop app."},personalization_consent:{title:"To follow on Shop, sync your shopping activity"}},login_with_shop:{login:"Sign in with {shop}",auth_modal:{login_title:"Sign in with Shop",login_title_with_store:"Sign in to {store} with Shop",login_description:"The easiest and most secure way to sign in to {store}—no password needed.",signup_title:"Create an account",signup_description:"Enter your phone number to create a Shop account.",login_sms_title:"Confirm it's you",login_sms_description:"Enter the code sent to {phoneNumber}",login_email_title:"Confirm it’s you",login_email_description:"Enter the code sent to your email, {email}",login_email_footer:"By continuing, your email address will be shared with {store}.",login_webauthn_title:"Confirm it’s you",login_webauthn_description:"Sign in with a passkey to securely use your saved information.",login_webauthn_footer:"By continuing, your email address will be shared with {store}."}},verified_email_auth:{auth_modal:{login_title:"Log in or sign up",signup_title:"Continue with Shop",signup_description:"Create a Shop account to sign in to {clientName}–no passwords needed"}},legal:{terms_of_service:"terms of service",privacy_policy:"privacy policy",terms:"terms",client:"See {clientName}’s {termsOfService} and {privacyPolicy}.",shop:"By continuing, you agree to Shop’s {termsOfService} and acknowledge the {privacyPolicy}.",authorized_scopes:{email:"By continuing, your email address will be shared with {store}.",email_name:"By continuing, your name and email address will be shared with {store}."}},checkout_modal:{auth_modal:{login_sms_description:"Enter the code sent to {phoneNumber} to securely use your saved information.",login_email_description:"Enter the code sent to your email, {email} to securely use your saved information."}},customer_accounts:{remember_me:"Save my info securely with Shop to sign in faster everywhere",sign_up_page:{auth_modal:{login_title:"Continue with Shop",login_description:"Use your Shop account to sign in everywhere—no password needed.",login_sms_description:"Use your Shop account to sign in everywhere—no password needed.\r\n\r\nConfirm it's you, enter the code sent to {phoneNumber}",login_email_description:"Use your Shop account to sign in everywhere—no password needed.\r\n\r\nConfirm it's you, enter the code sent to your email, {email}",login_webauthn_title:"Continue with Shop",login_webauthn_description:"Sign in with a passkey to securely use your saved information."}}},payment_request:{auth_modal:{login_title:"Check out with Shop Pay",login_description:"Use your saved information to check out securely at {store}.",login_sms_title:"Confirm it's you",login_sms_description:"Enter the code sent to {phoneNumber} to securely use your saved information.",login_email_title:"Confirm it’s you",login_email_description:"Enter the code sent to your email, {email} to securely use your saved information."}}};this.s_g=new u({[n]:t})}catch(n){n instanceof Error&&m.notify(n)}return null}))}s_k(){var n,t,i,o;const e=document.createElement("template");if(e.innerHTML=`\n    <style>\n      @keyframes followBackground {\n        0% {\n          width: 100%;\n          height: 100%;\n          transform: scaleY(1);\n        }\n\n        25% {\n          transform: scaleY(1);\n        }\n\n        50% {\n          transform: scaleY(1.2);\n        }\n\n        100% {\n          transform: scaleY(1);\n          width: 37px;\n          height: 37px;\n        }\n      }\n\n      :host {\n        display: inline-block;\n        line-height: normal;\n\n        --following-text-color: #000000;\n        --border-color: #5433EB;\n        --border-hover-color: #7f68e9;\n        --parent-width: var(--reserved-width, 177px);\n\n        /* Reserve width to prevent layout shifts */\n        width: var(--parent-width);\n      }\n\n      .button {\n        border: none;\n        margin: 0;\n        padding: 0;\n        overflow: visible;\n        isolation: isolate;\n\n        background: transparent;\n        color: #ffffff;\n        font: 16px/19px -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica;\n\n        line-height: normal;\n\n        -webkit-font-smoothing: inherit;\n        -moz-osx-font-smoothing: inherit;\n\n        -webkit-appearance: none;\n        position: relative;\n        display: inline-block;\n        align-items: center;\n\n        height: 37px;\n        width: var(--button-width, 100%);\n        border-radius: 48px;\n      }\n\n      .button:focus,\n      .button:focus-visible {\n        outline: none;\n      }\n\n      .button--dark {\n        --following-text-color: #ffffff;\n      }\n\n      .button--bordered {\n        --border-color: #EDEDED;\n        --border-hover-color: #EDEDED;\n      }\n\n      .follow-icon-wrapper {\n        display: flex;\n        align-items: center;\n        width: auto;\n        position: relative;\n        z-index: 1;\n        top: 0;\n        left: 0;\n      }\n\n      .follow-icon-wrapper:before {\n        content: '';\n        background: #5433EB;\n        border-radius: 48px;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        position: absolute;\n        z-index: -1;\n        transform-origin: center;\n        box-sizing: border-box;\n        border: 1px solid var(--border-color);\n      }\n\n      .button:not(.button--following):focus-visible .follow-icon-wrapper:before,\n      .button:not(.button--following):hover .follow-icon-wrapper:before {\n        background: #7f68e9;\n        border-color: var(--border-hover-color);\n      }\n\n      .follow-icon-wrapper shop-heart-icon {\n        position: absolute;\n        top: 11px;\n        left: 12px;\n      }\n\n      .follow-text,\n      .following-text {\n        white-space: nowrap;\n        padding: 9px 11px 9px 35px;\n        cursor: pointer;\n      }\n\n      .follow-text shop-logo,\n      .following-text shop-logo {\n        position: relative;\n        top: 3px;\n        padding-left: 1px;\n      }\n\n      .following-text {\n        opacity: 0;\n        pointer-events: none;\n        color: var(--following-text-color);\n        padding: 9px 8px 9px 43px;\n        position: absolute;\n        top: 0;\n        left: 0;\n        box-sizing: border-box;\n        overflow: hidden;\n        max-width: var(--button-width);\n      }\n\n      .following-icon {\n        opacity: 0;\n      }\n\n      .button--following .follow-icon-wrapper:before {\n        position: absolute;\n        width: 37px;\n        height: 37px;\n        padding: 0;\n      }\n\n      .button--following:focus-visible,\n      .button--following:hover {\n        background: rgb(217 217 217 / 0.2);\n      }\n\n      .button--following .follow-text,\n      .button--following .follow-icon {\n        opacity: 0;\n      }\n\n      .button--following .following-text {\n        opacity: 1;\n        width: auto;\n        pointer-events: auto;\n      }\n\n      .button--following .following-icon {\n        opacity: 1;\n      }\n\n      .button--following .follow-icon-wrapper shop-heart-icon {\n        transform: translateX(-1.5px);\n      }\n\n      @media (prefers-reduced-motion: no-preference) {\n        .button--animating {\n          transition: 400ms width cubic-bezier(0.45, 0, 0.15, 1);\n        }\n\n        .button--animating .follow-text {\n          transition: 200ms opacity cubic-bezier(0.45, 0, 1, 1);\n        }\n\n        .button--animating .following-text {\n          transition: 200ms opacity cubic-bezier(0, 0, 0.15, 1);\n          transition-delay: 0.2s;\n        }\n\n        .button--animating.button--following .follow-icon-wrapper:before {\n          animation: followBackground 0.4s cubic-bezier(0.45, 0, 0.15, 1);\n        }\n\n        .button--animating.button--following .follow-icon-wrapper shop-heart-icon {\n          transition: 400ms transform cubic-bezier(0.45, 0, 0.15, 1);\n        }\n      }\n    </style>\n    <button class="button">\n      <span class="follow-icon-wrapper">\n        <span class="follow-text">\n          <slot name="follow-text">\n            Follow on ${vn("white")}\n          </slot>\n        </span>\n      </span>\n\n      <span class="following-text" aria-hidden="true">\n        <slot name="following-text">\n          Following on ${vn("black")}\n        </slot>\n      </span>\n    </button>\n  `,this.s_a=this.attachShadow({mode:"open"}),this.s_a.appendChild(e.content.cloneNode(!0)),this.s_g){const n=this.s_g.translate("follow_on_shop.follow",{shop:vn("white")}),t=this.s_g.translate("follow_on_shop.following",{shop:vn("black")});this.s_a.querySelector('slot[name="follow-text"]').innerHTML=n,this.s_a.querySelector('slot[name="following-text"]').innerHTML=t}this.s_b=this.s_a.querySelector(".button"),this.s_c=this.s_b.querySelector(".follow-icon-wrapper"),this.s_e=null===(n=this.s_a)||void 0===n?void 0:n.querySelector("span.follow-text"),this.s_f=null===(t=this.s_a)||void 0===t?void 0:t.querySelector("span.following-text"),this.s_d=c(),this.s_c.prepend(this.s_d),this.s_h=(null===(i=this.s_a.querySelector(".follow-text"))||void 0===i?void 0:i.scrollWidth)||0,this.s_i=(null===(o=this.s_a.querySelector(".following-text"))||void 0===o?void 0:o.scrollWidth)||0,this.style.setProperty("--reserved-width",`${Math.max(this.s_h,this.s_i)}px`),this.setFollowing({following:this.hasAttribute(wn),skipAnimation:!0}),this.s_l()}s_l(){var n,t;const i=p(this),o=f(i,"#ffffff")>f(i,"#000000"),e=f(i,"#5433EB")<=3.06;if(null===(n=this.s_b)||void 0===n||n.classList.toggle("button--dark",o),null===(t=this.s_b)||void 0===t||t.classList.toggle("button--bordered",e),o&&this.s_g){const n=this.s_g.translate("follow_on_shop.following",{shop:vn("white")});this.s_a.querySelector('slot[name="following-text"]').innerHTML=n}}}function vn(n){return`<shop-logo role="img" color=${n} size="15" style="display: inline-flex;" aria-label="Shop"></shop-logo>`}var bn,yn,_n,xn,kn,$n,Sn,Mn,Wn,En;customElements.get("follow-on-shop-button")||customElements.define("follow-on-shop-button",gn);const Cn="store-logo";class zn extends HTMLElement{constructor(){super(),bn.add(this),yn.set(this,void 0),_n.set(this,void 0),xn.set(this,void 0),kn.set(this,void 0),$n.set(this,void 0),Sn.set(this,void 0),Mn.set(this,""),Wn.set(this,"");const n=document.createElement("template");n.innerHTML=`\n    <style>\n      @keyframes heartBeat {\n        0% {\n          transform: scale(1);\n        }\n\n        25% {\n          transform: scale(1.12);\n        }\n\n        50% {\n          transform: scale(0.9);\n        }\n\n        70% {\n          transform: scale(1);\n        }\n      }\n\n      :host {\n        display: flex;\n        justify-content: center;\n        font-family: -apple-system,San Francisco,Roboto,Segoe UI,Helvetica Neue,sans-serif !important;\n      }\n\n      .${Cn} {\n        display: inline-block;\n        position: relative;\n      }\n\n      .${Cn}-logo-wrapper {\n        width: 58px;\n        height: 58px;\n        border-radius: 100%;\n        background: linear-gradient(0deg, rgba(0, 0, 0, 0.04), rgba(0, 0, 0, 0.04)), #FFFFFF;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        position: relative;\n        overflow: hidden;\n        box-sizing: border-box;\n      }\n\n      .${Cn}-logo-wrapper--text {\n        background: ${s.foregroundSecondary};\n      }\n\n      .${Cn}-logo-wrapper--text img,\n      .${Cn}-logo-wrapper--image span {\n        display: none;\n      }\n\n      .${Cn}-logo-wrapper--text span,\n      .${Cn}-logo-wrapper--image img {\n        display: block;\n      }\n\n      .${Cn}-logo-wrapper img {\n        max-width: 100%;\n        max-height: 100%;\n        object-fit: contain;\n      }\n\n      .${Cn}-icon-wrapper {\n        position: absolute;\n        top: -16px;\n        left: 28px;\n        width: 36px;\n        height: 36px;\n        border-radius: 100%;\n        background: rgba(40, 40, 40, 0.3);\n        /* Note: backdrop-filter has minimal browser support */\n        -webkit-backdrop-filter: blur(24px);\n        backdrop-filter: blur(24px);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        box-sizing: border-box;\n      }\n\n      .${Cn}-text {\n        font-size: 28px;\n        line-height: 32px;\n        font-weight: 500;\n        color: ${s.white};\n        text-transform: capitalize;\n      }\n\n      .${Cn}--favorited .${Cn}-icon-wrapper {\n        background: ${s.brand};\n      }\n\n      @media (forced-colors: active) {\n        .${Cn}-logo-wrapper--text,\n        .${Cn}-icon-wrapper {\n          border: 1px solid;\n        }\n      }\n\n      @media (prefers-reduced-motion: no-preference) {\n        .${Cn}-icon-wrapper {\n          transition: background 0.1s 0.75s cubic-bezier(0.45, 0, 0.15, 1);\n        }\n\n        .${Cn}--favorited shop-heart-icon {\n          transform-origin: center;\n          animation: 0.4s cubic-bezier(0.45, 0, 0.15, 1) 0.75s heartBeat;\n        }\n      }\n    </style>\n    <div class="${Cn}">\n      <div class="${Cn}-logo-wrapper">\n        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z/C/HgAGgwJ/lK3Q6wAAAABJRU5ErkJggg==" alt="" class="${Cn}-image">\n        <span class="${Cn}-text"></span>\n      </div>\n      <div class="${Cn}-icon-wrapper"></div>\n    </div>\n  `,o(this,yn,this.attachShadow({mode:"open"}),"f"),e(this,yn,"f").appendChild(n.content.cloneNode(!0)),o(this,_n,e(this,yn,"f").querySelector(`.${Cn}`),"f"),o(this,xn,e(this,yn,"f").querySelector(`.${Cn}-logo-wrapper`),"f"),o(this,kn,e(this,xn,"f").querySelector("img"),"f"),o(this,$n,e(this,xn,"f").querySelector("span"),"f"),o(this,Sn,c(),"f"),e(this,yn,"f").querySelector(`.${Cn}-icon-wrapper`).append(e(this,Sn,"f"))}update({name:n,logoSrc:t}){o(this,Mn,n||e(this,Mn,"f"),"f"),o(this,Wn,t||e(this,Wn,"f"),"f"),e(this,bn,"m",En).call(this)}connectedCallback(){e(this,kn,"f").addEventListener("error",(()=>{o(this,Wn,"","f"),e(this,bn,"m",En).call(this)}))}setFavorited(){return e(this,_n,"f").classList.add(`${Cn}--favorited`),window.matchMedia("(prefers-reduced-motion: reduce)").matches?(e(this,Sn,"f").setFilled(),Promise.resolve()):new Promise((n=>{e(this,Sn,"f").addEventListener("animationstart",(()=>{e(this,Sn,"f").setFilled()})),e(this,Sn,"f").addEventListener("animationend",(()=>{setTimeout(n,1e3)}))}))}}var Bn,An,Fn,Nn,Tn,Un,qn,Dn,In,Ln,Pn,Hn,Rn,jn,On,Yn,Qn,Vn,Jn,Gn,Kn,Xn,Zn,nt,tt,it,ot,et,st,lt,at,rt,ht,dt,ct,pt,ft,ut,mt,wt,gt,vt,bt,yt,_t,xt,kt,$t,St;yn=new WeakMap,_n=new WeakMap,xn=new WeakMap,kn=new WeakMap,$n=new WeakMap,Sn=new WeakMap,Mn=new WeakMap,Wn=new WeakMap,bn=new WeakSet,En=function(){const n=e(this,Mn,"f"),t=e(this,kn,"f").src;e(this,$n,"f").textContent=n.charAt(0),e(this,$n,"f").ariaLabel=n,e(this,Wn,"f")&&e(this,Wn,"f")!==t?(e(this,kn,"f").src=e(this,Wn,"f"),e(this,kn,"f").alt=n,e(this,xn,"f").classList.remove(`${Cn}-logo-wrapper--text`),e(this,xn,"f").classList.add(`${Cn}-logo-wrapper--image`)):e(this,Wn,"f")||(e(this,xn,"f").classList.remove(`${Cn}-logo-wrapper--image`),e(this,xn,"f").classList.add(`${Cn}-logo-wrapper--text`))},customElements.get(Cn)||customElements.define(Cn,zn),function(n){n.Closed="closed",n.Mounting="mounting",n.Open="open"}(St||(St={}));const Mt="shop_followed";class Wt extends w{constructor(){super(),Bn.add(this),An.set(this,void 0),Fn.set(this,g()),Nn.set(this,""),Tn.set(this,"2"),Un.set(this,window.location.origin),qn.set(this,!1),Dn.set(this,new v({elementName:"shop-follow-button",analyticsTraceId:e(this,Fn,"f")})),In.set(this,void 0),Ln.set(this,void 0),Pn.set(this,!1),Hn.set(this,null),Rn.set(this,void 0),jn.set(this,void 0),On.set(this,void 0),Yn.set(this,void 0),Qn.set(this,void 0),Vn.set(this,void 0),Jn.set(this,void 0),Gn.set(this,void 0),Kn.set(this,void 0),Xn.set(this,St.Closed),Zn.set(this,void 0),nt.set(this,void 0),tt.set(this,void 0),it.set(this,null),ot.set(this,(()=>{e(this,Bn,"m",ft).call(this,!0)})),o(this,An,this.attachShadow({mode:"open"}),"f"),o(this,Pn,"true"===b(Mt),"f")}static get observedAttributes(){return[y,_,x,k]}attributeChangedCallback(n,t,i){switch(n){case _:o(this,Tn,i,"f"),e(this,Bn,"m",ft).call(this);break;case y:o(this,Nn,i,"f"),e(this,Bn,"m",ft).call(this);break;case x:o(this,Un,i,"f"),$(e(this,Un,"f"));break;case k:o(this,qn,"true"===i,"f"),e(this,Bn,"m",ft).call(this)}}connectedCallback(){return d(this,void 0,void 0,(function*(){this.subscribeToHub(S.UserStatusIdentity,e(this,ot,"f")),yield e(this,Bn,"m",et).call(this),e(this,Bn,"m",st).call(this),e(this,Bn,"m",lt).call(this)}))}disconnectedCallback(){var n,t,i,o;this.unsubscribeAllFromHub(),null===(n=e(this,jn,"f"))||void 0===n||n.destroy(),null===(t=e(this,In,"f"))||void 0===t||t.disconnect(),null===(i=e(this,Qn,"f"))||void 0===i||i.destroy(),null===(o=e(this,Vn,"f"))||void 0===o||o.destroy()}}An=new WeakMap,Fn=new WeakMap,Nn=new WeakMap,Tn=new WeakMap,Un=new WeakMap,qn=new WeakMap,Dn=new WeakMap,In=new WeakMap,Ln=new WeakMap,Pn=new WeakMap,Hn=new WeakMap,Rn=new WeakMap,jn=new WeakMap,On=new WeakMap,Yn=new WeakMap,Qn=new WeakMap,Vn=new WeakMap,Jn=new WeakMap,Gn=new WeakMap,Kn=new WeakMap,Xn=new WeakMap,Zn=new WeakMap,nt=new WeakMap,tt=new WeakMap,it=new WeakMap,ot=new WeakMap,Bn=new WeakSet,et=function(){return d(this,void 0,void 0,(function*(){try{o(this,it,new u({["en"]:{follow_on_shop:{follow:"Follow on {shop}",following:"Following on {shop}",auth_modal:{title:"Follow on Shop",description:"Stay in the know—never miss a sale, restock, or order update."},following_modal:{title:"Visit {store} on Shop",subtitle:"Everything you need to shop, track, and pay—all in one place.",qr_header:"Scan to visit {store} on the Shop app",qr_alt_text:"Shop app QR code",continue:"Continue"},completed:{title:"You're following {store}",subtitle:"We've sent you an email with a link to download the Shop app."},personalization_consent:{title:"To follow on Shop, sync your shopping activity"}},login_with_shop:{login:"Sign in with {shop}",auth_modal:{login_title:"Sign in with Shop",login_title_with_store:"Sign in to {store} with Shop",login_description:"The easiest and most secure way to sign in to {store}—no password needed.",signup_title:"Create an account",signup_description:"Enter your phone number to create a Shop account.",login_sms_title:"Confirm it's you",login_sms_description:"Enter the code sent to {phoneNumber}",login_email_title:"Confirm it’s you",login_email_description:"Enter the code sent to your email, {email}",login_email_footer:"By continuing, your email address will be shared with {store}.",login_webauthn_title:"Confirm it’s you",login_webauthn_description:"Sign in with a passkey to securely use your saved information.",login_webauthn_footer:"By continuing, your email address will be shared with {store}."}},verified_email_auth:{auth_modal:{login_title:"Log in or sign up",signup_title:"Continue with Shop",signup_description:"Create a Shop account to sign in to {clientName}–no passwords needed"}},legal:{terms_of_service:"terms of service",privacy_policy:"privacy policy",terms:"terms",client:"See {clientName}’s {termsOfService} and {privacyPolicy}.",shop:"By continuing, you agree to Shop’s {termsOfService} and acknowledge the {privacyPolicy}.",authorized_scopes:{email:"By continuing, your email address will be shared with {store}.",email_name:"By continuing, your name and email address will be shared with {store}."}},checkout_modal:{auth_modal:{login_sms_description:"Enter the code sent to {phoneNumber} to securely use your saved information.",login_email_description:"Enter the code sent to your email, {email} to securely use your saved information."}},customer_accounts:{remember_me:"Save my info securely with Shop to sign in faster everywhere",sign_up_page:{auth_modal:{login_title:"Continue with Shop",login_description:"Use your Shop account to sign in everywhere—no password needed.",login_sms_description:"Use your Shop account to sign in everywhere—no password needed.\r\n\r\nConfirm it's you, enter the code sent to {phoneNumber}",login_email_description:"Use your Shop account to sign in everywhere—no password needed.\r\n\r\nConfirm it's you, enter the code sent to your email, {email}",login_webauthn_title:"Continue with Shop",login_webauthn_description:"Sign in with a passkey to securely use your saved information."}}},payment_request:{auth_modal:{login_title:"Check out with Shop Pay",login_description:"Use your saved information to check out securely at {store}.",login_sms_title:"Confirm it's you",login_sms_description:"Enter the code sent to {phoneNumber} to securely use your saved information.",login_email_title:"Confirm it’s you",login_email_description:"Enter the code sent to your email, {email} to securely use your saved information."}}}}),"f")}catch(n){n instanceof Error&&m.notify(n)}return null}))},st=function(){o(this,Ln,function(n){const t=document.createElement("follow-on-shop-button");return n&&t.setAttribute(wn,""),t}(e(this,Pn,"f")),"f"),e(this,An,"f").innerHTML=M,e(this,An,"f").appendChild(e(this,Ln,"f"))},lt=function(){var n;e(this,Bn,"m",wt).call(this,e(this,Pn,"f")),e(this,Bn,"m",gt).call(this),$(e(this,Un,"f")),null===(n=e(this,Ln,"f"))||void 0===n||n.addEventListener("click",(()=>{var n;if(e(this,qn,"f"))return o(this,Pn,!e(this,Pn,"f"),"f"),void(null===(n=e(this,Ln,"f"))||void 0===n||n.setFollowing({following:e(this,Pn,"f")}));e(this,Pn,"f")?(e(this,Dn,"f").trackFollowingGetAppButtonPageImpression(),W()?e(this,Bn,"m",rt).call(this):e(this,Bn,"m",pt).call(this)):(e(this,Dn,"f").trackFollowButtonClicked(),e(this,Bn,"m",at).call(this))}))},at=function(){e(this,Jn,"f")?e(this,Bn,"m",xt).call(this):(o(this,Gn,e(this,Bn,"m",ht).call(this),"f"),o(this,Kn,mn({}),"f"),e(this,Kn,"f").append(e(this,Bn,"m",dt).call(this)),o(this,Qn,G().withInnerHTML(M).build(),"f"),o(this,Jn,e(this,Qn,"f").sheetModal,"f"),e(this,Jn,"f").setAttribute(E,e(this,Fn,"f")),e(this,Jn,"f").appendChild(e(this,Gn,"f")),e(this,Jn,"f").appendChild(e(this,Kn,"f")),e(this,Jn,"f").addEventListener("modalcloserequest",e(this,Bn,"m",kt).bind(this)),o(this,Xn,St.Mounting,"f"))},rt=function(){var n,t,i;return d(this,void 0,void 0,(function*(){if(!e(this,Zn,"f")){o(this,Vn,G().withInnerHTML(M).build(),"f"),o(this,Zn,e(this,Vn,"f").sheetModal,"f"),e(this,Zn,"f").setAttribute("disable-popup","true");const s=yield e(this,Bn,"m",vt).call(this),l=null!==(n=null==s?void 0:s.name)&&void 0!==n?n:"the store",a=null===(t=e(this,it,"f"))||void 0===t?void 0:t.translate("follow_on_shop.following_modal.title",{store:l}),r=null===(i=e(this,it,"f"))||void 0===i?void 0:i.translate("follow_on_shop.following_modal.subtitle");o(this,nt,mn({title:a,description:r},!0),"f"),e(this,Zn,"f").appendChild(e(this,nt,"f")),e(this,Zn,"f").appendChild(yield e(this,Bn,"m",ct).call(this)),e(this,Zn,"f").addEventListener("modalcloserequest",(()=>d(this,void 0,void 0,(function*(){var n;e(this,Zn,"f")&&(yield e(this,Zn,"f").close()),null===(n=e(this,Ln,"f"))||void 0===n||n.setFocused()})))),a&&e(this,Zn,"f").setAttribute("title",a)}e(this,Zn,"f").open(),e(this,Dn,"f").trackFollowingGetAppButtonPageImpression()}))},ht=function(){const n=document.createElement(Cn);return e(this,Bn,"m",vt).call(this).then((t=>{n.update({name:(null==t?void 0:t.name)||"",logoSrc:(null==t?void 0:t.id)?`${C}/shops/${t.id}/logo?width=58`:""})})).catch((()=>{})),n},dt=function(){var n;o(this,Rn,document.createElement("iframe"),"f"),e(this,Rn,"f").tabIndex=0,e(this,Bn,"m",ft).call(this);const t=(null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0;return o(this,jn,new z(new B(e(this,Rn,"f")),[A,F,e(this,Un,"f")],e(this,Bn,"m",$t).bind(this),t),"f"),o(this,On,new N(e(this,Rn,"f")),"f"),T(e(this,Rn,"f"),"allow","publickey-credentials-get *"),e(this,Rn,"f")},ct=function(){var n,t;return d(this,void 0,void 0,(function*(){const i=document.createElement("div"),o=yield e(this,Bn,"m",vt).call(this),s=null==o?void 0:o.id,l=null!==(t=null===(n=e(this,it,"f"))||void 0===n?void 0:n.translate("follow_on_shop.following_modal.continue",{defaultValue:"Continue"}))&&void 0!==t?t:"",a=s?`https://shop.app/sid/${s}`:"#";return i.innerHTML=U(a,l),i.addEventListener("click",(()=>d(this,void 0,void 0,(function*(){var n;e(this,Dn,"f").trackFollowingGetAppButtonClicked(),null===(n=e(this,Zn,"f"))||void 0===n||n.close()})))),i}))},pt=function(){var n,t,i,s,l,a,r;return d(this,void 0,void 0,(function*(){if(!e(this,tt,"f")){o(this,tt,document.createElement("div"),"f"),e(this,tt,"f").classList.add("fos-tooltip","fos-tooltip-hidden");const h=yield e(this,Bn,"m",vt).call(this),d=null!==(n=null==h?void 0:h.name)&&void 0!==n?n:"the store",c=null!==(i=null===(t=e(this,it,"f"))||void 0===t?void 0:t.translate("follow_on_shop.following_modal.qr_header",{store:d}))&&void 0!==i?i:"",p=null!==(l=null===(s=e(this,it,"f"))||void 0===s?void 0:s.translate("follow_on_shop.following_modal.qr_alt_text"))&&void 0!==l?l:"",f=null==h?void 0:h.id,u=f?`${C}/qr/sid/${f}`:"#";e(this,tt,"f").innerHTML=q(c,u,p),null===(a=e(this,tt,"f").querySelector(".fos-tooltip-overlay"))||void 0===a||a.addEventListener("click",(()=>{var n;null===(n=e(this,tt,"f"))||void 0===n||n.classList.toggle("fos-tooltip-hidden",!0)})),null===(r=e(this,tt,"f"))||void 0===r||r.addEventListener("click",(()=>{var n;null===(n=e(this,tt,"f"))||void 0===n||n.classList.toggle("fos-tooltip-hidden",!0)})),e(this,An,"f").appendChild(e(this,tt,"f"))}e(this,tt,"f").classList.toggle("fos-tooltip-hidden",!1)}))},ft=function(n){if(e(this,Rn,"f")){const t={clientId:e(this,Nn,"f"),responseType:"code"},i=D({version:e(this,Tn,"f"),analyticsTraceId:e(this,Fn,"f"),flow:I.Follow,oauthParams:t});e(this,Bn,"m",ut).call(this),T(e(this,Rn,"f"),"src",i,n),m.leaveBreadcrumb("Iframe url updated",{authorizeUrl:i},"state")}},ut=function(){e(this,Bn,"m",mt).call(this),o(this,Yn,setTimeout((()=>{const n=R.temporarilyUnavailable;this.dispatchCustomEvent("error",{message:n.message,code:n.code}),e(this,Bn,"m",mt).call(this)}),L),"f")},mt=function(){e(this,Yn,"f")&&(clearTimeout(e(this,Yn,"f")),o(this,Yn,void 0,"f"))},wt=function(n){e(this,Dn,"f").trackFollowButtonPageImpression(n)},gt=function(){o(this,In,new IntersectionObserver((n=>{var t;for(const{isIntersecting:i}of n)i&&(null===(t=e(this,In,"f"))||void 0===t||t.disconnect(),e(this,Dn,"f").trackFollowButtonInViewport())})),"f"),e(this,In,"f").observe(e(this,Ln,"f"))},vt=function(){return d(this,void 0,void 0,(function*(){return e(this,Hn,"f")||o(this,Hn,yield P(e(this,Un,"f")),"f"),e(this,Hn,"f")}))},bt=function({loggedIn:n,shouldFinalizeLogin:t}){var i,s,l,a;return d(this,void 0,void 0,(function*(){const r=new Date;r.setTime(r.getTime()+31536e6),document.cookie=`${Mt}=true;expires=${r.toUTCString()};path=/`,n&&(t&&j(e(this,Un,"f"),(n=>{m.notify(new Error(n))})),this.publishToHub(S.UserStatusIdentity)),yield null===(i=e(this,Gn,"f"))||void 0===i?void 0:i.setFavorited(),yield null===(s=e(this,Jn,"f"))||void 0===s?void 0:s.close(),null===(l=e(this,jn,"f"))||void 0===l||l.destroy(),null===(a=e(this,Ln,"f"))||void 0===a||a.setFollowing({following:!0}),o(this,Pn,!0,"f"),e(this,Bn,"m",wt).call(this,!0)}))},yt=function(n,t,i){e(this,Bn,"m",mt).call(this),this.dispatchCustomEvent("error",{code:n,message:t,email:i})},_t=function({clientName:n,logoSrc:t}){return d(this,void 0,void 0,(function*(){(n||t)&&e(this,Gn,"f").update({name:n,logoSrc:t}),e(this,Xn,"f")===St.Mounting&&(e(this,Bn,"m",xt).call(this),o(this,Xn,St.Open,"f"),e(this,Bn,"m",mt).call(this))}))},xt=function(){var n;return d(this,void 0,void 0,(function*(){(yield e(this,Jn,"f").open())&&(null===(n=e(this,On,"f"))||void 0===n||n.postMessage({type:"sheetmodalopened"}))}))},kt=function(){var n,t;return d(this,void 0,void 0,(function*(){if(e(this,Jn,"f")){(yield e(this,Jn,"f").close())&&(null===(n=e(this,On,"f"))||void 0===n||n.postMessage({type:"sheetmodalclosed"}),H())}null===(t=e(this,Ln,"f"))||void 0===t||t.setFocused()}))},$t=function(n){var t,i,o,s;switch(n.type){case"loaded":e(this,Bn,"m",_t).call(this,n);break;case"resize_iframe":e(this,Rn,"f").style.height=`${n.height}px`,e(this,Rn,"f").style.width=`${n.width}px`;break;case"completed":e(this,Bn,"m",bt).call(this,n);break;case"error":e(this,Bn,"m",yt).call(this,n.code,n.message,n.email);break;case"content":null===(t=e(this,Jn,"f"))||void 0===t||t.setAttribute("title",n.title),null===(i=e(this,Kn,"f"))||void 0===i||i.update(n),null===(o=e(this,Gn,"f"))||void 0===o||o.classList.toggle("hidden",n.authorizeState===l.Captcha);break;case"processing_status_updated":null===(s=e(this,Kn,"f"))||void 0===s||s.update(n);break;case"close_requested":e(this,Bn,"m",kt).call(this)}},O()&&(Y({bundle:"loginButton",bundleLocale:"en"}),Q(),n("shop-follow-button",Wt),V(),n("shop-swirl",J));
//# sourceMappingURL=client.login-button_d58ce921.en.esm.js.map
